/* 관리자 */
DROP TABLE ADMIN 
   CASCADE CONSTRAINTS;
    
/* 분야 */
DROP TABLE CATEGORY 
   CASCADE CONSTRAINTS;

/* 파인더멤버 */
DROP TABLE FINDERMEMBERS 
   CASCADE CONSTRAINTS;
    
/* 프로멤버 */
DROP TABLE PROMEMBERS 
   CASCADE CONSTRAINTS;
    
/* 뉴스피드 */
DROP TABLE NEWSFEED 
   CASCADE CONSTRAINTS;
    
/* 뉴스피드댓글 */
DROP TABLE NEWS_COMMENT 
   CASCADE CONSTRAINTS;
    
/* 찜하기 */
DROP TABLE FAVORITE 
   CASCADE CONSTRAINTS;
    
/* 방문자목록 */
DROP TABLE VISITED 
   CASCADE CONSTRAINTS;

/* 유·무료컨텐츠 */
DROP TABLE CONTENTS 
   CASCADE CONSTRAINTS;

/* 유료질문방 */
DROP TABLE QUESTION 
   CASCADE CONSTRAINTS;
    
/* 유료질문방답변 */
DROP TABLE QANSWER 
   CASCADE CONSTRAINTS;

/* 구매내역 */
DROP TABLE BUY 
   CASCADE CONSTRAINTS;

/* 프로멤버 페이지 */
DROP TABLE PPAGE 
   CASCADE CONSTRAINTS;

/* 후기 */
DROP TABLE REVIEW 
   CASCADE CONSTRAINTS;
    
/* 자유게시판 */
DROP TABLE FBOARD 
   CASCADE CONSTRAINTS;

/* 자유게시판댓글 */
DROP TABLE FB_COMMENT 
   CASCADE CONSTRAINTS;

/* 1:1문의 */
DROP TABLE CLAIM 
   CASCADE CONSTRAINTS;

/* 자주묻는질문분류 */
DROP TABLE FAQ_CATE 
   CASCADE CONSTRAINTS;

/* 자주묻는질문 */
DROP TABLE FAQ 
   CASCADE CONSTRAINTS;

/* 좋아요 */
DROP TABLE LIKES
   CASCADE CONSTRAINTS;

/* 신고 */
DROP TABLE REPORT 
   CASCADE CONSTRAINTS;

/* 알람 */
DROP TABLE ALARM 
   CASCADE CONSTRAINTS;
    
/* 관리자 */
CREATE TABLE ADMIN (
   AD_ID VARCHAR2(100) NOT NULL, /* 아이디 */
   AD_PW VARCHAR2(100) NOT NULL, /* 비밀번호 */
   AD_NAME VARCHAR2(100) NOT NULL,/* 이름 */
    PRIMARY KEY(AD_ID)
);

/* 분야 */
CREATE TABLE CATEGORY (
   CATE_NUM NUMBER NOT NULL, /* 분야번호 */
   CATE_NAME VARCHAR2(100) NOT NULL, /* 분야이름 */
    PRIMARY KEY(CATE_NUM)
);

/* 파인더멤버 */
CREATE TABLE FINDERMEMBERS (
    F_EMAIL VARCHAR2(100) NOT NULL, /* 이메일 */
    F_PW VARCHAR2(100) NOT NULL, /* 비밀번호 */
    F_NAME VARCHAR2(100) NOT NULL, /* 이름 */
    F_NICKNAME VARCHAR2(100) NOT NULL, /* 닉네임 */
    F_TEL1 VARCHAR2(100) NOT NULL, /* 연락처1 */
    F_TEL2 VARCHAR2(100) NOT NULL, /* 연락처2 */
    F_TEL3 VARCHAR2(100) NOT NULL, /* 연락처3 */
    F_ACCOUNTNUM VARCHAR2(100), /* 계좌번호 */
    F_BANK VARCHAR2(100), /* 계좌은행 */
    F_AREA VARCHAR2(100) NOT NULL, /* 거주지역 */
    F_POINT NUMBER(10) DEFAULT 0, /* 포인트 */
    F_PHOTO1 VARCHAR2(100) DEFAULT 'noimg_finder.png', /* 프로필사진 */
    F_DROP NUMBER(1) DEFAULT 0, /* 탈퇴여부 */
    F_SUSPEND NUMBER(1) DEFAULT 0, /* 정지여부 */
    F_DATE DATE DEFAULT SYSDATE, /* 가입일 */
    F_MESSAGE VARCHAR2(100), /* 알림말 */
    F_PHOTO2 VARCHAR2(100), /* 추가이미지 */
    PRIMARY KEY(F_EMAIL)
);

/* 프로멤버 */
CREATE TABLE PROMEMBERS (
    P_EMAIL VARCHAR2(100) NOT NULL, /* 이메일 */
    P_PW VARCHAR2(100) NOT NULL, /* 비밀번호 */
    P_NAME VARCHAR2(100) NOT NULL, /* 이름 */
    P_NICKNAME VARCHAR2(100) NOT NULL, /* 닉네임 */
    P_TEL1 VARCHAR2(100) NOT NULL, /* 연락처1 */
    P_TEL2 VARCHAR2(100) NOT NULL, /* 연락처2 */
    P_TEL3 VARCHAR2(100) NOT NULL, /* 연락처3 */
    P_ACCOUNTNUM VARCHAR2(100), /* 계좌번호 */
    P_BANK VARCHAR2(100), /* 계좌은행 */
    P_AREA VARCHAR2(100) NOT NULL, /* 거주지역 */
    P_POINT NUMBER(10) DEFAULT 0, /* 포인트 */
    P_PHOTO1 VARCHAR2(100) DEFAULT 'noimg.png', /* 프로필사진 */
    P_DROP NUMBER(1) DEFAULT 0, /* 탈퇴여부 */
    P_SUSPEND NUMBER(1) DEFAULT 0, /* 정지여부 */
    P_DATE DATE DEFAULT SYSDATE, /* 가입일 */
    P_MESSAGE VARCHAR2(100), /* 알림말 */
    P_PHOTO2 VARCHAR2(100), /* 추가이미지1 */
    CATE_NUM NUMBER NOT NULL, /* 분야번호 */
    P_SPEC CLOB, /* 스펙 */
    PRIMARY KEY(P_EMAIL),
    FOREIGN KEY(CATE_NUM) REFERENCES CATEGORY(CATE_NUM)
);
    
/* 뉴스피드 */
CREATE TABLE NEWSFEED (
	N_NUM VARCHAR2(100) NOT NULL, /* 글번호 */
	P_EMAIL VARCHAR2(100) NOT NULL, /* 이메일 */
	N_TITLE VARCHAR2(100) NOT NULL, /* 글제목 */
	N_CONTENT CLOB NOT NULL, /* 글내용 */
	N_DATE DATE NOT NULL, /* 작성일 */
	N_HIT NUMBER NOT NULL, /* 조회수 */
	N_DEL NUMBER(1) NOT NULL, /* 삭제여부 */
	N_IP VARCHAR(100) NOT NULL, /* IP */
	CATE_NUM NUMBER NOT NULL, /* 분야번호 */
    PRIMARY KEY(N_NUM),
    FOREIGN KEY(P_EMAIL) REFERENCES PROMEMBERS(P_EMAIL),
    FOREIGN KEY(CATE_NUM) REFERENCES CATEGORY(CATE_NUM)
);

-- 뉴스피드 시퀀스 
DROP SEQUENCE NEWSFEED_SEQ;
CREATE SEQUENCE NEWSFEED_SEQ;

/* 뉴스피드댓글 */
CREATE TABLE NEWS_COMMENT (
    NC_NUM VARCHAR2(100) NOT NULL, /* 댓글번호 */
    N_NUM VARCHAR2(100) NOT NULL, /* 글번호 */
    NC_NAME VARCHAR2(100) NOT NULL, /* 작성자 */
    NC_CONTENT CLOB NOT NULL, /* 댓글내용 */
    NC_DATE DATE DEFAULT SYSDATE, /* 작성일 */
    NC_DEL NUMBER(1) DEFAULT 0, /* 삭제여부 */
    NC_IP VARCHAR(100) NOT NULL, /* IP */
    PRIMARY KEY(NC_NUM),
    FOREIGN KEY(N_NUM) REFERENCES NEWSFEED(N_NUM)
);

-- 뉴스피드댓글 시퀀스
DROP SEQUENCE NEWS_COMMENT_SEQ;
CREATE SEQUENCE NEWS_COMMENT_SEQ
    START WITH 10;


/* 찜하기 */ 
CREATE TABLE FAVORITE (
    F_EMAIL VARCHAR2(100), /* 찜한사람 */
    P_EMAIL VARCHAR2(100), /* 찜당한사람 */
    FOREIGN KEY(F_EMAIL) REFERENCES FINDERMEMBERS(F_EMAIL),
    FOREIGN KEY(P_EMAIL) REFERENCES PROMEMBERS(P_EMAIL),
    CONSTRAINT FAVORITE PRIMARY KEY(F_EMAIL, P_EMAIL)
);

/* 방문자목록 */
CREATE TABLE VISITED (
    P_EMAIL VARCHAR2(100) NOT NULL, /* 주인 */
    V_VISITOR VARCHAR2(100) NOT NULL, /* 방문자 */
    V_DATE DATE DEFAULT SYSDATE, /* 방문시각 */
    FOREIGN KEY(P_EMAIL) REFERENCES PROMEMBERS(P_EMAIL)
);

/* 유·무료컨텐츠 */
CREATE TABLE CONTENTS (
    CON_NUM VARCHAR2(100) NOT NULL, /* 컨텐츠번호 */
    P_EMAIL VARCHAR2(100) NOT NULL, /* 이메일 */
    CON_TITLE VARCHAR2(300) NOT NULL, /* 컨텐츠제목 */
    CON_CONTENT CLOB NOT NULL, /* 컨텐츠내용 */
    CON_FILE1 VARCHAR2(100), /* 첨부파일1 */
    CON_FILE2 VARCHAR2(100), /* 첨부파일2 */
    CON_FILE3 VARCHAR2(100), /* 첨부파일3 */
    CON_PRICE NUMBER(10) NOT NULL, /* 가격 */
    CON_DATE DATE DEFAULT SYSDATE, /* 작성일 */
    CATE_NUM NUMBER NOT NULL, /* 분야번호 */
    CON_DOWNLOAD NUMBER NOT NULL, /* 다운로드수 */
    CON_DEL NUMBER(1) DEFAULT 0, /* 삭제여부 */
    PRIMARY KEY(CON_NUM),
    FOREIGN KEY(P_EMAIL) REFERENCES PROMEMBERS(P_EMAIL),
    FOREIGN KEY(CATE_NUM) REFERENCES CATEGORY(CATE_NUM)
);

-- 유·무료컨텐츠 시퀀스
DROP SEQUENCE CONTENTS_SEQ;
CREATE SEQUENCE CONTENTS_SEQ;


/* 유료질문방 */
CREATE TABLE QUESTION (
    Q_NUM VARCHAR2(100) NOT NULL, /* 질문번호 */
    P_EMAIL VARCHAR2(100) NOT NULL, /* 희망답변자 */
    F_EMAIL VARCHAR2(100) NOT NULL, /* 질문자 */
    CATE_NUM NUMBER NOT NULL, /* 분야번호 */
    Q_TITLE VARCHAR2(300) NOT NULL, /* 질문제목 */
    Q_CONTENT CLOB NOT NULL, /* 질문내용 */
    Q_DATE DATE DEFAULT SYSDATE, /* 작성일 */
    Q_PRICE NUMBER(10) NOT NULL, /* 설정가격 */
    Q_ACCEPT NUMBER(1) DEFAULT 0, /* 수락여부 */
    Q_SHOW NUMBER(1) DEFAULT 0, /* 공개여부 */
    Q_STAR NUMBER(2,1) DEFAULT 0, /* 별점 */
    PRIMARY KEY(Q_NUM),
    FOREIGN KEY(P_EMAIL) REFERENCES PROMEMBERS(P_EMAIL),
    FOREIGN KEY(F_EMAIL) REFERENCES FINDERMEMBERS(F_EMAIL),
    FOREIGN KEY(CATE_NUM) REFERENCES CATEGORY(CATE_NUM)
);

-- 유료질문방 시퀀스 생성
DROP SEQUENCE QUESTION_SEQ;
CREATE SEQUENCE QUESTION_SEQ;

/* 유료질문방답변 */
CREATE TABLE QANSWER (
    Q_NUM VARCHAR2(100) NOT NULL, /* 질문번호 */
    QA_CONTENT CLOB NOT NULL, /* 답변내용 */
    QA_DATE DATE DEFAULT SYSDATE, /* 답변일 */
    PRIMARY KEY(Q_NUM),
    FOREIGN KEY(Q_NUM) REFERENCES QUESTION(Q_NUM)
);


/* 구매내역 */
CREATE TABLE BUY (
    F_EMAIL VARCHAR2(100), /* 이메일 */
    BUY_NUM VARCHAR2(100), /* 구매상품번호 */
    BUY_DATE DATE NOT NULL, /* 구매시간 */
    FOREIGN KEY(F_EMAIL) REFERENCES FINDERMEMBERS(F_EMAIL),
    CONSTRAINT BUY PRIMARY KEY(F_EMAIL, BUY_NUM)
);

/* 프로멤버페이지 */
CREATE TABLE PPAGE (
    P_EMAIL VARCHAR2(100) NOT NULL, /* 이메일 */
    N_NUM VARCHAR2(100), /* 뉴스피드번호 */
    Q_NUM VARCHAR2(100), /* 질문번호 */
    CON_NUM VARCHAR2(100), /* 컨텐츠번호 */
    FOREIGN KEY(P_EMAIL) REFERENCES PROMEMBERS(P_EMAIL),
    FOREIGN KEY(N_NUM) REFERENCES NEWSFEED(N_NUM),
    FOREIGN KEY(Q_NUM) REFERENCES QUESTION(Q_NUM),
    FOREIGN KEY(CON_NUM) REFERENCES CONTENTS(CON_NUM)
);

/* 후기 */
CREATE TABLE REVIEW (
    RE_NUM VARCHAR2(100) NOT NULL, /* 후기번호 */
    RE_CONNUM VARCHAR2(100) NOT NULL, /* 컨텐츠번호 */
    RE_NAME VARCHAR2(100) NOT NULL, /* 작성자 */
    RE_CONTENT CLOB NOT NULL, /* 후기내용 */
    RE_DATE DATE DEFAULT SYSDATE, /* 작성일 */
    RE_STAR NUMBER(1), /* 평점 */
    PRIMARY KEY(RE_NUM)
);

/* 자유게시판 */
CREATE TABLE FBOARD (
	FB_NUM VARCHAR2(100) NOT NULL, /* 글번호 */
	FB_NAME VARCHAR2(100) NOT NULL, /* 작성자 */
    FB_PHOTO VARCHAR2(100) NOT NULL, /* 작성자프로필 */
	FB_TITLE VARCHAR2(300) NOT NULL, /* 글제목 */
	FB_CONTENT CLOB NOT NULL, /* 글내용 */
	FB_DATE DATE DEFAULT SYSDATE, /* 작성일 */
	FB_HIT NUMBER DEFAULT 0, /* 조회수 */
	FB_DEL NUMBER(1) DEFAULT 0, /* 삭제여부 */
	FB_IP VARCHAR2(100) NOT NULL, /* IP */
    PRIMARY KEY(FB_NUM)
);

-- 자유게시판 시퀀스
DROP SEQUENCE FBOARD_SEQ;
CREATE SEQUENCE FBOARD_SEQ
    START WITH 10;


/* 자유게시판댓글 */
CREATE TABLE FB_COMMENT (
	FC_NUM VARCHAR2(100) NOT NULL, /* 댓글번호 */
	FB_NUM VARCHAR2(100) NOT NULL, /* 글번호 */
	FC_NAME VARCHAR2(100) NOT NULL, /* 작성자 */
    FC_PHOTO VARCHAR2(100) NOT NULL, /* 작성자프로필 */
	FC_CONTENT CLOB NOT NULL, /* 댓글내용 */
    FC_GROUP VARCHAR2(100) NOT NULL, /* 댓글그룹 */
    FC_GROUP2 VARCHAR2(100) NOT NULL, /* 댓글그룹2 */
	FC_INDENT NUMBER(1) DEFAULT 0, /* 들여쓰기 */
	FC_REF VARCHAR2(100), /* 참조댓글 */
	FC_DATE DATE DEFAULT SYSDATE, /* 작성일 */
	FC_DEL NUMBER(1) DEFAULT 0, /* 삭제여부 */
	FC_IP VARCHAR2(100) NOT NULL, /* IP */
    PRIMARY KEY(FC_NUM),
    FOREIGN KEY(FB_NUM) REFERENCES FBOARD(FB_NUM),
    FOREIGN KEY(FC_REF) REFERENCES FB_COMMENT(FC_NUM)
);

-- 자유게시판댓글 시퀀스
DROP SEQUENCE FB_COMMENT_SEQ;
CREATE SEQUENCE FB_COMMENT_SEQ
    START WITH 10;

/* 1:1문의 */
CREATE TABLE CLAIM (
	CL_NUM VARCHAR2(100) NOT NULL, /* 문의번호 */
	CL_EMAIL VARCHAR2(100) NOT NULL, /* 문의자이메일 */
    CL_TITLE VARCHAR2(300) NOT NULL, /* 문의 제목 */
    CL_NICKNAME VARCHAR2(100)NOT NULL,/*문의자닉네임*/
	CL_CONTENT CLOB NOT NULL, /* 문의내용 */
	CL_DATE DATE DEFAULT SYSDATE, /* 문의시각 */
	CL_CATE VARCHAR2(100) NOT NULL, /* 문의분류 */
	CL_STATUS NUMBER(1) DEFAULT 0, /* 처리상태 */
    PRIMARY KEY(CL_NUM)
);

-- 1:1문의 시퀀스
DROP SEQUENCE CLAIM_SEQ;
CREATE SEQUENCE CLAIM_SEQ;


/* 자주묻는질문분류 */
CREATE TABLE FAQ_CATE (
	FAQ_CATENUM NUMBER NOT NULL, /* FAQ분류번호 */
	FAQ_CATENAME VARCHAR2(100) NOT NULL, /* FAQ분류이름 */
    PRIMARY KEY(FAQ_CATENUM)
);


/* 자주묻는질문 */
CREATE TABLE FAQ (
	FAQ_NUM VARCHAR2(100) NOT NULL, /* FAQ번호 */
	FAQ_CATENUM NUMBER NOT NULL, /* FAQ분류번호 */
	FAQ_TITLE VARCHAR2(100) NOT NULL, /* FAQ제목 */
	FAQ_CONTENT CLOB NOT NULL, /* FAQ내용 */
    PRIMARY KEY(FAQ_NUM),
    FOREIGN KEY(FAQ_CATENUM) REFERENCES FAQ_CATE(FAQ_CATENUM)
);

-- FAQ 시퀀스
DROP SEQUENCE FAQ_SEQ;
CREATE SEQUENCE FAQ_SEQ;

/* 좋아요 */
CREATE TABLE LIKES (
	L_NUM VARCHAR2(100), /* 인덱스 */
	L_LIKER VARCHAR2(100), /* 좋아요한사람 */
    CONSTRAINT LIKES PRIMARY KEY(L_NUM, L_LIKER)
);

/* 신고 */
CREATE TABLE REPORT (
	REP_NUM VARCHAR2(100) NOT NULL, /* 인덱스 */
	REP_REPORTER VARCHAR2(100) NOT NULL, /* 신고자 */
	REP_WHY CLOB NOT NULL, /* 신고사유 */
    REP_DONE NUMBER(1) DEFAULT 0
);

/* 알람 */
CREATE TABLE ALARM (
	AL_RECEIVER VARCHAR2(100) NOT NULL, /* 수신자 */
	AL_REFNUM VARCHAR2(100) NOT NULL, /* 수신자작성인덱스 */
	AL_CHECKNUM VARCHAR2(100) NOT NULL /* 확인할인덱스 */
);



-- 분야 INSERT문
INSERT INTO CATEGORY VALUES(1,'교육');
INSERT INTO CATEGORY VALUES(2,'비즈니스');
INSERT INTO CATEGORY VALUES(3,'생활과학');
INSERT INTO CATEGORY VALUES(4,'디자인');
INSERT INTO CATEGORY VALUES(5,'개발');
INSERT INTO CATEGORY VALUES(6,'건강/미용');
INSERT INTO CATEGORY VALUES(7,'이벤트');
INSERT INTO CATEGORY VALUES(8,'기타');

-- 자주묻는질문분류 INSERT문
INSERT INTO FAQ_CATE VALUES(1,'회원정보');        
INSERT INTO FAQ_CATE VALUES(2,'판매 관련');        
INSERT INTO FAQ_CATE VALUES(3,'구매관련');     

-- FAQ INSERT문
INSERT INTO FAQ VALUES('FAQ'||FAQ_SEQ.NEXTVAL,1,'회원가입','회원가입 버튼을 찾지 못할시 Login버튼을 눌러보세요');
INSERT INTO FAQ VALUES('FAQ'||FAQ_SEQ.NEXTVAL,1,' 비밀번호 찾기',' 비밀번호(Forgot Password?) 찾기 버튼을 눌러주세요');
INSERT INTO FAQ VALUES('FAQ'||FAQ_SEQ.NEXTVAL,1,' 회원정보 수정','회원정보 수정 버튼을 눌러서 수정 하세요 ');
INSERT INTO FAQ VALUES('FAQ'||FAQ_SEQ.NEXTVAL,1,' profinder에 대한 설명','저희 사이트는 pro 멤버와 finder 멤버들이 서로 의사소통하는 부분유료 커뮤니케이션 입니다. 누구나 등록이 가능 하며 
Pro Member는 자신의 능력을 원하는 가격으로 거래 하면서 자신의 이름을 알릴수있답니다.
Finder Member는 자신의 원하는 분야의 컨텐츠를 소액결제를 통해서 구입이 가능하며 필요한 부분만 적은 가격으로 구입이 가능합니다.
');
INSERT INTO FAQ VALUES('FAQ'||FAQ_SEQ.NEXTVAL,1,'신고 안내','본 사이트에서 부적절한 컨텐츠를 발견시 신고 버튼을 통한 신고를 부탁드립니다. 이용자들의 쾌적한 이용을 위한 협조를 부탁드립니다.');

INSERT INTO FAQ VALUES('FAQ'||FAQ_SEQ.NEXTVAL,2,'계좌번호 변경','계좌번호는 변경은 정보수정에 들어 가셔서 계좌번호 변경을 하시면됩니다. ');
INSERT INTO FAQ VALUES('FAQ'||FAQ_SEQ.NEXTVAL,2,'수수료 안내 ',' PROFINDER는 판매 수수료를 10%입니다. 10%의 비용은 결제 대행 및 문자발송 서버 유지비용으로 사용 됩니다. ');
INSERT INTO FAQ VALUES('FAQ'||FAQ_SEQ.NEXTVAL,2,'판매 안내',' 컨텐츠의 판매는 ProMember로 가입하셔야 이용이 가능하며 필수적인 조건은 아닙니다.
');
INSERT INTO FAQ VALUES('FAQ'||FAQ_SEQ.NEXTVAL,2,'송금안내','매월 1일 오전 중 정산 등록이 진행됩니다. 정산이 완료 . 정산 받을 금액은 이전 달 말일까지 정산되지 않은 판매금액의 "실 지급 금액"의 합계가 됩니다.
정산 받으실 금액의 총 합계 5만원을 넘지 않을 경우에는 다음달로 정산됩니다. 다음 달로 이월되더라도 기존에 받았던 금액은 사라지지 않으며, 해당 금액을 포함하여 정산이 이루어집니다.
');
INSERT INTO FAQ VALUES('FAQ'||FAQ_SEQ.NEXTVAL,3,'구매 안내','컨텐츠는 무료 컨텐츠 일부와 유료 컨텐츠로 이루어져 있으며 유료 컨텐츠는 포인트 충전이후에 이용이 가능합니다.');
INSERT INTO FAQ VALUES('FAQ'||FAQ_SEQ.NEXTVAL,3,'직거래 안내',' PROFINDER 사이트에서는 개인간의 직거래로 문제가 발생시에는 아무런 도움을 드릴 수 없습니다.');
INSERT INTO FAQ VALUES('FAQ'||FAQ_SEQ.NEXTVAL,3,'컨텐츠 환불','본 컨텐츠는 디지털 제품으로 환불이 어려운점 양해 부탁드립니다.');
COMMIT;
SELECT * FROM PROMEMBERS;
SELECT * FROM FBOARD;
SELECT * FROM FINDERMEMBERS;
SELECT FB.*
        FROM(SELECT * FROM
		    (SELECT ROWNUM RN, A.* FROM
                (SELECT F.*  FROM FBOARD F, 
                    (SELECT FB_NUM, COUNT(*) AS TOTAL FROM FB_COMMENT WHERE FC_DEL = 0 GROUP BY FB_NUM) FC
                        WHERE F.FB_NUM=FC.FB_NUM(+) AND FB_DEL = 0 ORDER BY FB_DATE DESC) A)
                           WHERE RN BETWEEN 1 AND 10) FB;
SELECT * FROM (SELECT ROWNUM RN,A.* FROM
   (SELECT * FROM FBOARD WHERE FB_DEL=0 ORDER BY FB_DATE DESC)A)
        WHERE RN BETWEEN 1 AND 10;
SELECT COUNT(L_NUM) LIKECNT FROM LIKES WHERE L_NUM = 'FBOAD210';
SELECT COUNT(FB_NUM) TOTAL FROM FB_COMMENT WHERE FB_NUM = 'FBOARD210';